# Using the Solidity Compiler

Now to use compilers separately, you need to access tvm_linker utility from docker containers. This document covers the case for Sol2TVM compiler.

## Accessing the Linker

To access the utility:

1. Pull the compiler kit: `docker pull tonlabs/compilers`
2. Call the command line (or Terminal) from the folder with your contracts
3. Access the linker: `docker run -it --rm -v $(pwd):/projects -w /projects -e USER_AGREEMENT=yes tonlabs/compilers`

Now you can use the TVM Linker CLI. 

## Generating .tvc and .boc

The compiled code generated by LLVM C or Sol2TVM compiler is processed by the utility called TVM-linker that links the code, adds standard loaders, and packs into TON binary format. Also, it can immediately execute it after preparation for debugging purposes.

TVM-linker can generate a ready to deploy contract in `.tvc` format or a message with `.boc`. The first option works with the Node SE the second is designed for TON Testnet and is similar to the way FIFT operates. 

### .tvc File

To generate a file, call:

```shell
tvm_linker compile <source> [--lib library [...]] [--abi-json <abi_file>] [--genkey | --setkey <keyfile>]
```

Where: 

`source` stands for a name of TVM assembler source file that is available in your project folder after compiling. 

`library` is a list of runtime library filenames. 

Linker generates and `address.tvc` file, where `address` is a hash from initial data and code of the contract.

If there is a contract ABI file, it is better to use the `--abi-json` option to supply contract ABI file. Function IDs are then generated according to function signatures in the ABI.

To generate a new keypair and put the public key to the contract, call:

```
tvm_linker compile <source> --genkey <key_file>
```

where `key_file` is a name of the file to store public and private keys. Note that the file name is specified without extension. 

The linker generates two files: `key_file.pub` for public key and `key_file` for private key. Note that the key pair can be replaced when the contract is deployed or via the procedure below, if needed.

To load existing keypair, call:

```shell
tvm_linker compile <source> --setkey <key_file>
```

### .boc Message

Use this option to deploy to TON testnet. 

> Note that if you want to deploy your contracts to TON testnet, you also have to install the Light Client according to the [official documentation](https://zeroheight.com/86757ecb2/p/142588).

1. First, generate a ready-to-deploy contract as described above.
2. Then call the `test` linker subcommand using the file name as the argument to get the contract address. 
3. Then call the `message` sub-command with the generated contract address as the argument to create external inbound message in the `.boc` format (see the screenshot below for actual view of a test file, not that it is enough to call `tvm_linker message <contract-address>` to get a file):

```shell
tvm_linker message <contract-address> [--init] [--data] [-w]
```

where ` contract-address` is the name of the compiled contract file (`.tvc`) without extension.

If you want to deploy your contract, use  the `--init` option:

```shell
tvm_linker message <contract-address> --init
```

A new *constructor message* (i.e. the message that initiates contract deployment in the network) is then created with code and data loaded from the `address.tvc`file.

![img](https://docs.ton.dev/uploads/DM24lM_to2L8peNm0bqaqQ.png)

See additional documents and samples at <https://github.com/tonlabs/samples/tree/master/solidity>. 